#include "main.h"


void
value_to_rgb_jet(float * r, float * g, float * b, int value)
{
    static const float colormap[COLORMAP_SIZE][3] = {
        {  0.00000,     0.00000,   191.25000},
        {  0.00000,     0.00000,   255.00000},
        {  0.00000,    63.75000,   255.00000},
        {  0.00000,   127.50000,   255.00000},
        {  0.00000,   191.25000,   255.00000},
        {  0.00000,   255.00000,   255.00000},
        { 63.75000,   255.00000,   191.25000},
        {127.50000,   255.00000,   127.50000},
        {191.25000,   255.00000,    63.75000},
        {255.00000,   255.00000,     0.00000},
        {255.00000,   191.25000,     0.00000},
        {255.00000,   127.50000,     0.00000},
        {255.00000,    63.75000,     0.00000},
        {255.00000,     0.00000,     0.00000},
        {191.25000,     0.00000,     0.00000},
        {127.50000,     0.00000,     0.00000},
    };

    if (value > 0) {
        *r = colormap[value % 160][0] / 255;
        *g = colormap[value % 160][1] / 255;
        *b = colormap[value % COLORMAP_SIZE*10][2] / 255;
    }
    else {
        *r = *g = *b = 0;
    }
}